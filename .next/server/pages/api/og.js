"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/og";
exports.ids = ["pages/api/og"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "fetch-opengraph":
/*!**********************************!*\
  !*** external "fetch-opengraph" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("fetch-opengraph");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./src/pages/api/og.js":
/*!*****************************!*\
  !*** ./src/pages/api/og.js ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fetch_opengraph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fetch-opengraph */ \"fetch-opengraph\");\n/* harmony import */ var fetch_opengraph__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fetch_opengraph__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var utils_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! utils/supabase */ \"(api)/./utils/supabase.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_2__]);\naxios__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nasync function handler(req, res) {\n    const id = req.query.episode_id;\n    // console.log(id);\n    // console.log(\"Getting Episode\");\n    const { data: episodeData , error  } = await utils_supabase__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"episodes\").select(\"*\").eq(\"id\", id).single();\n    if (error) {\n    // console.log(error);\n    }\n    // console.log(episodeData);\n    // Check if title, description, and image are in the database already\n    // If they are, send back the episode data\n    // If they aren't, get the og data and send back the episode data\n    if (episodeData.title && episodeData.description && episodeData.image && episodeData.show && episodeData.appleURL && episodeData.spotifyURL) {\n        const episodeObject = {\n            title: episodeData.title,\n            description: episodeData.description,\n            image: episodeData.image,\n            show: episodeData.show,\n            appleURL: episodeData.appleURL,\n            spotifyURL: episodeData.spotifyURL,\n            youtubeURL: episodeData.youtubeURL\n        };\n        res.status(200).json(episodeObject);\n    } else {\n        const ogData = await (0,fetch_opengraph__WEBPACK_IMPORTED_MODULE_0__.fetch)(episodeData.url);\n        // Extract the title, description, and image from the og data\n        const title = ogData[\"og:title\"];\n        const description = ogData[\"og:description\"];\n        const image = ogData[\"og:image\"];\n        // Encode the title in url encoding\n        const titleEncoded = encodeURIComponent(title);\n        console.log(titleEncoded);\n        // Search itunes api for the podcast\n        // Create first call to itunes api\n        const episodeTitleSearch = title.replace(/[^\\w\\s]|_/g, \"\").replace(/\\s+/g, \"+\");\n        // Search itunes api for the podcast\n        const episodeTitleNoSpaces = title.replace(/[^\\w\\s]|_/g, \"\").replace(/\\s+/g, \"+\").replace(/[0-9]/g, \"\").replace(/\\b(ep(isode)?|e(p)?\\.?|show)\\b/gi, \"\");\n        const episodeTitleFirst20 = episodeTitleNoSpaces.slice(0, 50);\n        const episodeTitleFirst60 = episodeTitleNoSpaces.slice(0, 60);\n        const episodeTitleWithNumbers = title.replace(/[^\\w\\s]|_/g, \"\").replace(/\\s+/g, \"+\").replace(/\\b(ep(isode)?|e(p)?\\.?|show)\\b/gi, \"\");\n        const episodeTitleFirst20WithNumbers = episodeTitleWithNumbers.slice(0, 50);\n        // console.log(episodeTitleFirst20);\n        // console.log(\"hello\");\n        // Get apple podcast data\n        let appleResponse = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(`https://itunes.apple.com/search?term=${titleEncoded}&entity=podcastEpisode`);\n        // if (appleResponse.data.results.length === 0) {\n        //   // console.log(\"Trying second call\");\n        //   appleResponse = await axios.get(\n        //     `https://itunes.apple.com/search?term=${episodeTitleFirst20WithNumbers}&entity=podcastEpisode`\n        //   );\n        // }\n        // if (appleResponse.data.results.length === 0) {\n        //   // console.log(\"Trying third call\");\n        //   appleResponse = await axios.get(\n        //     `https://itunes.apple.com/search?term=${episodeTitleFirst60}&entity=podcastEpisode`\n        //   );\n        // }\n        // if (appleResponse.data.results.length === 0) {\n        //   // console.log(\"Trying fourth call\");\n        //   appleResponse = await axios.get(\n        //     `https://itunes.apple.com/search?term=${episodeTitleWithNumbers}&entity=podcastEpisode`\n        //   );\n        // }\n        // if (appleResponse.data.results.length === 0) {\n        //   // console.log(\"Trying fifth call\");\n        //   appleResponse = await axios.get(\n        //     `https://itunes.apple.com/search?term=${episodeTitleSearch}&entity=podcastEpisode`\n        //   );\n        // }\n        if (appleResponse.data.results.length === 0) {\n            // Create episode object with null for show and appleURL\n            const episodeObject = {\n                title: title,\n                description: description,\n                image: image,\n                spotifyURL: episodeData.url,\n                appleURL: null,\n                show: null,\n                url: episodeData.url\n            };\n            const { data , error  } = await utils_supabase__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"episodes\").update(episodeObject).eq(\"id\", id);\n            res.status(200).json(episodeObject);\n        } else {\n            const episodeObject = {\n                title: title,\n                description: description,\n                image: image,\n                spotifyURL: episodeData.url,\n                appleURL: appleResponse.data.results[0].trackViewUrl,\n                show: appleResponse.data.results[0].collectionName,\n                url: episodeData.url\n            };\n            const { data , error  } = await utils_supabase__WEBPACK_IMPORTED_MODULE_1__[\"default\"].from(\"episodes\").update(episodeObject).eq(\"id\", id);\n            res.status(200).json(episodeObject);\n        }\n    // Update the episode in the database\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RkFBeUY7UUFDekYsT0FBTztRQUNQLElBQUk7UUFFSixJQUFJWSxjQUFjL0IsSUFBSSxDQUFDaUMsT0FBTyxDQUFDQyxNQUFNLEtBQUssR0FBRztZQUMzQyx3REFBd0Q7WUFDeEQsTUFBTXJCLGdCQUFnQjtnQkFDcEJOLE9BQU9BO2dCQUNQQyxhQUFhQTtnQkFDYkMsT0FBT0E7Z0JBQ1BHLFlBQVlYLFlBQVlpQixHQUFHO2dCQUMzQlAsVUFBVSxJQUFJO2dCQUNkRCxNQUFNLElBQUk7Z0JBQ1ZRLEtBQUtqQixZQUFZaUIsR0FBRztZQUN0QjtZQUVBLE1BQU0sRUFBRWxCLEtBQUksRUFBRUUsTUFBSyxFQUFFLEdBQUcsTUFBTVYsMkRBQ3ZCLENBQUMsWUFDTDJDLE1BQU0sQ0FBQ3RCLGVBQ1BSLEVBQUUsQ0FBQyxNQUFNUjtZQUVaRCxJQUFJbUIsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ0g7UUFDdkIsT0FBTztZQUNMLE1BQU1BLGdCQUFnQjtnQkFDcEJOLE9BQU9BO2dCQUNQQyxhQUFhQTtnQkFDYkMsT0FBT0E7Z0JBQ1BHLFlBQVlYLFlBQVlpQixHQUFHO2dCQUMzQlAsVUFBVW9CLGNBQWMvQixJQUFJLENBQUNpQyxPQUFPLENBQUMsRUFBRSxDQUFDRyxZQUFZO2dCQUNwRDFCLE1BQU1xQixjQUFjL0IsSUFBSSxDQUFDaUMsT0FBTyxDQUFDLEVBQUUsQ0FBQ0ksY0FBYztnQkFDbERuQixLQUFLakIsWUFBWWlCLEdBQUc7WUFDdEI7WUFFQSxNQUFNLEVBQUVsQixLQUFJLEVBQUVFLE1BQUssRUFBRSxHQUFHLE1BQU1WLDJEQUN2QixDQUFDLFlBQ0wyQyxNQUFNLENBQUN0QixlQUNQUixFQUFFLENBQUMsTUFBTVI7WUFFWkQsSUFBSW1CLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNIO1FBQ3ZCLENBQUM7SUFFRCxxQ0FBcUM7SUFDdkMsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2RsaXN0LXdlYi1uZXh0Ly4vc3JjL3BhZ2VzL2FwaS9vZy5qcz8wYWUzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZldGNoIH0gZnJvbSBcImZldGNoLW9wZW5ncmFwaFwiO1xuaW1wb3J0IHN1cGFiYXNlIGZyb20gXCJ1dGlscy9zdXBhYmFzZVwiO1xuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGNvbnN0IGlkID0gcmVxLnF1ZXJ5LmVwaXNvZGVfaWQ7XG4gIC8vIGNvbnNvbGUubG9nKGlkKTtcblxuICAvLyBjb25zb2xlLmxvZyhcIkdldHRpbmcgRXBpc29kZVwiKTtcbiAgY29uc3QgeyBkYXRhOiBlcGlzb2RlRGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oXCJlcGlzb2Rlc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwiaWRcIiwgaWQpXG4gICAgLnNpbmdsZSgpO1xuICBpZiAoZXJyb3IpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cbiAgLy8gY29uc29sZS5sb2coZXBpc29kZURhdGEpO1xuXG4gIC8vIENoZWNrIGlmIHRpdGxlLCBkZXNjcmlwdGlvbiwgYW5kIGltYWdlIGFyZSBpbiB0aGUgZGF0YWJhc2UgYWxyZWFkeVxuICAvLyBJZiB0aGV5IGFyZSwgc2VuZCBiYWNrIHRoZSBlcGlzb2RlIGRhdGFcbiAgLy8gSWYgdGhleSBhcmVuJ3QsIGdldCB0aGUgb2cgZGF0YSBhbmQgc2VuZCBiYWNrIHRoZSBlcGlzb2RlIGRhdGFcblxuICBpZiAoXG4gICAgZXBpc29kZURhdGEudGl0bGUgJiZcbiAgICBlcGlzb2RlRGF0YS5kZXNjcmlwdGlvbiAmJlxuICAgIGVwaXNvZGVEYXRhLmltYWdlICYmXG4gICAgZXBpc29kZURhdGEuc2hvdyAmJlxuICAgIGVwaXNvZGVEYXRhLmFwcGxlVVJMICYmXG4gICAgZXBpc29kZURhdGEuc3BvdGlmeVVSTFxuICApIHtcbiAgICBjb25zdCBlcGlzb2RlT2JqZWN0ID0ge1xuICAgICAgdGl0bGU6IGVwaXNvZGVEYXRhLnRpdGxlLFxuICAgICAgZGVzY3JpcHRpb246IGVwaXNvZGVEYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgaW1hZ2U6IGVwaXNvZGVEYXRhLmltYWdlLFxuICAgICAgc2hvdzogZXBpc29kZURhdGEuc2hvdyxcbiAgICAgIGFwcGxlVVJMOiBlcGlzb2RlRGF0YS5hcHBsZVVSTCxcbiAgICAgIHNwb3RpZnlVUkw6IGVwaXNvZGVEYXRhLnNwb3RpZnlVUkwsXG4gICAgICB5b3V0dWJlVVJMOiBlcGlzb2RlRGF0YS55b3V0dWJlVVJMLFxuICAgIH07XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihlcGlzb2RlT2JqZWN0KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBvZ0RhdGEgPSBhd2FpdCBmZXRjaChlcGlzb2RlRGF0YS51cmwpO1xuXG4gICAgLy8gRXh0cmFjdCB0aGUgdGl0bGUsIGRlc2NyaXB0aW9uLCBhbmQgaW1hZ2UgZnJvbSB0aGUgb2cgZGF0YVxuICAgIGNvbnN0IHRpdGxlID0gb2dEYXRhW1wib2c6dGl0bGVcIl07XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBvZ0RhdGFbXCJvZzpkZXNjcmlwdGlvblwiXTtcbiAgICBjb25zdCBpbWFnZSA9IG9nRGF0YVtcIm9nOmltYWdlXCJdO1xuXG4gICAgLy8gRW5jb2RlIHRoZSB0aXRsZSBpbiB1cmwgZW5jb2RpbmdcbiAgICBjb25zdCB0aXRsZUVuY29kZWQgPSBlbmNvZGVVUklDb21wb25lbnQodGl0bGUpO1xuXG4gICAgY29uc29sZS5sb2codGl0bGVFbmNvZGVkKTtcblxuICAgIC8vIFNlYXJjaCBpdHVuZXMgYXBpIGZvciB0aGUgcG9kY2FzdFxuICAgIC8vIENyZWF0ZSBmaXJzdCBjYWxsIHRvIGl0dW5lcyBhcGlcbiAgICBjb25zdCBlcGlzb2RlVGl0bGVTZWFyY2ggPSB0aXRsZVxuICAgICAgLnJlcGxhY2UoL1teXFx3XFxzXXxfL2csIFwiXCIpXG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIitcIik7XG5cbiAgICAvLyBTZWFyY2ggaXR1bmVzIGFwaSBmb3IgdGhlIHBvZGNhc3RcblxuICAgIGNvbnN0IGVwaXNvZGVUaXRsZU5vU3BhY2VzID0gdGl0bGVcbiAgICAgIC5yZXBsYWNlKC9bXlxcd1xcc118Xy9nLCBcIlwiKVxuICAgICAgLnJlcGxhY2UoL1xccysvZywgXCIrXCIpXG4gICAgICAucmVwbGFjZSgvWzAtOV0vZywgXCJcIilcbiAgICAgIC5yZXBsYWNlKC9cXGIoZXAoaXNvZGUpP3xlKHApP1xcLj98c2hvdylcXGIvZ2ksIFwiXCIpO1xuXG4gICAgY29uc3QgZXBpc29kZVRpdGxlRmlyc3QyMCA9IGVwaXNvZGVUaXRsZU5vU3BhY2VzLnNsaWNlKDAsIDUwKTtcbiAgICBjb25zdCBlcGlzb2RlVGl0bGVGaXJzdDYwID0gZXBpc29kZVRpdGxlTm9TcGFjZXMuc2xpY2UoMCwgNjApO1xuICAgIGNvbnN0IGVwaXNvZGVUaXRsZVdpdGhOdW1iZXJzID0gdGl0bGVcbiAgICAgIC5yZXBsYWNlKC9bXlxcd1xcc118Xy9nLCBcIlwiKVxuICAgICAgLnJlcGxhY2UoL1xccysvZywgXCIrXCIpXG4gICAgICAucmVwbGFjZSgvXFxiKGVwKGlzb2RlKT98ZShwKT9cXC4/fHNob3cpXFxiL2dpLCBcIlwiKTtcblxuICAgIGNvbnN0IGVwaXNvZGVUaXRsZUZpcnN0MjBXaXRoTnVtYmVycyA9IGVwaXNvZGVUaXRsZVdpdGhOdW1iZXJzLnNsaWNlKDAsIDUwKTtcblxuICAgIC8vIGNvbnNvbGUubG9nKGVwaXNvZGVUaXRsZUZpcnN0MjApO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiaGVsbG9cIik7XG5cbiAgICAvLyBHZXQgYXBwbGUgcG9kY2FzdCBkYXRhXG4gICAgbGV0IGFwcGxlUmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoXG4gICAgICBgaHR0cHM6Ly9pdHVuZXMuYXBwbGUuY29tL3NlYXJjaD90ZXJtPSR7dGl0bGVFbmNvZGVkfSZlbnRpdHk9cG9kY2FzdEVwaXNvZGVgXG4gICAgKTtcblxuICAgIC8vIGlmIChhcHBsZVJlc3BvbnNlLmRhdGEucmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHNlY29uZCBjYWxsXCIpO1xuICAgIC8vICAgYXBwbGVSZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAvLyAgICAgYGh0dHBzOi8vaXR1bmVzLmFwcGxlLmNvbS9zZWFyY2g/dGVybT0ke2VwaXNvZGVUaXRsZUZpcnN0MjBXaXRoTnVtYmVyc30mZW50aXR5PXBvZGNhc3RFcGlzb2RlYFxuICAgIC8vICAgKTtcbiAgICAvLyB9XG5cbiAgICAvLyBpZiAoYXBwbGVSZXNwb25zZS5kYXRhLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgLy8gICAvLyBjb25zb2xlLmxvZyhcIlRyeWluZyB0aGlyZCBjYWxsXCIpO1xuICAgIC8vICAgYXBwbGVSZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAvLyAgICAgYGh0dHBzOi8vaXR1bmVzLmFwcGxlLmNvbS9zZWFyY2g/dGVybT0ke2VwaXNvZGVUaXRsZUZpcnN0NjB9JmVudGl0eT1wb2RjYXN0RXBpc29kZWBcbiAgICAvLyAgICk7XG4gICAgLy8gfVxuXG4gICAgLy8gaWYgKGFwcGxlUmVzcG9uc2UuZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vICAgLy8gY29uc29sZS5sb2coXCJUcnlpbmcgZm91cnRoIGNhbGxcIik7XG4gICAgLy8gICBhcHBsZVJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgIC8vICAgICBgaHR0cHM6Ly9pdHVuZXMuYXBwbGUuY29tL3NlYXJjaD90ZXJtPSR7ZXBpc29kZVRpdGxlV2l0aE51bWJlcnN9JmVudGl0eT1wb2RjYXN0RXBpc29kZWBcbiAgICAvLyAgICk7XG4gICAgLy8gfVxuXG4gICAgLy8gaWYgKGFwcGxlUmVzcG9uc2UuZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vICAgLy8gY29uc29sZS5sb2coXCJUcnlpbmcgZmlmdGggY2FsbFwiKTtcbiAgICAvLyAgIGFwcGxlUmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoXG4gICAgLy8gICAgIGBodHRwczovL2l0dW5lcy5hcHBsZS5jb20vc2VhcmNoP3Rlcm09JHtlcGlzb2RlVGl0bGVTZWFyY2h9JmVudGl0eT1wb2RjYXN0RXBpc29kZWBcbiAgICAvLyAgICk7XG4gICAgLy8gfVxuXG4gICAgaWYgKGFwcGxlUmVzcG9uc2UuZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gQ3JlYXRlIGVwaXNvZGUgb2JqZWN0IHdpdGggbnVsbCBmb3Igc2hvdyBhbmQgYXBwbGVVUkxcbiAgICAgIGNvbnN0IGVwaXNvZGVPYmplY3QgPSB7XG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICAgIHNwb3RpZnlVUkw6IGVwaXNvZGVEYXRhLnVybCxcbiAgICAgICAgYXBwbGVVUkw6IG51bGwsXG4gICAgICAgIHNob3c6IG51bGwsXG4gICAgICAgIHVybDogZXBpc29kZURhdGEudXJsLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJlcGlzb2Rlc1wiKVxuICAgICAgICAudXBkYXRlKGVwaXNvZGVPYmplY3QpXG4gICAgICAgIC5lcShcImlkXCIsIGlkKTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oZXBpc29kZU9iamVjdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVwaXNvZGVPYmplY3QgPSB7XG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICAgIHNwb3RpZnlVUkw6IGVwaXNvZGVEYXRhLnVybCxcbiAgICAgICAgYXBwbGVVUkw6IGFwcGxlUmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLnRyYWNrVmlld1VybCxcbiAgICAgICAgc2hvdzogYXBwbGVSZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0uY29sbGVjdGlvbk5hbWUsXG4gICAgICAgIHVybDogZXBpc29kZURhdGEudXJsLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJlcGlzb2Rlc1wiKVxuICAgICAgICAudXBkYXRlKGVwaXNvZGVPYmplY3QpXG4gICAgICAgIC5lcShcImlkXCIsIGlkKTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oZXBpc29kZU9iamVjdCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBlcGlzb2RlIGluIHRoZSBkYXRhYmFzZVxuICB9XG59XG4iXSwibmFtZXMiOlsiZmV0Y2giLCJzdXBhYmFzZSIsImF4aW9zIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImlkIiwicXVlcnkiLCJlcGlzb2RlX2lkIiwiZGF0YSIsImVwaXNvZGVEYXRhIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiaW1hZ2UiLCJzaG93IiwiYXBwbGVVUkwiLCJzcG90aWZ5VVJMIiwiZXBpc29kZU9iamVjdCIsInlvdXR1YmVVUkwiLCJzdGF0dXMiLCJqc29uIiwib2dEYXRhIiwidXJsIiwidGl0bGVFbmNvZGVkIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiY29uc29sZSIsImxvZyIsImVwaXNvZGVUaXRsZVNlYXJjaCIsInJlcGxhY2UiLCJlcGlzb2RlVGl0bGVOb1NwYWNlcyIsImVwaXNvZGVUaXRsZUZpcnN0MjAiLCJzbGljZSIsImVwaXNvZGVUaXRsZUZpcnN0NjAiLCJlcGlzb2RlVGl0bGVXaXRoTnVtYmVycyIsImVwaXNvZGVUaXRsZUZpcnN0MjBXaXRoTnVtYmVycyIsImFwcGxlUmVzcG9uc2UiLCJnZXQiLCJyZXN1bHRzIiwibGVuZ3RoIiwidXBkYXRlIiwidHJhY2tWaWV3VXJsIiwiY29sbGVjdGlvbk5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/og.js\n");

/***/ }),

/***/ "(api)/./utils/supabase.js":
/*!***************************!*\
  !*** ./utils/supabase.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = \"https://vahjckfdxuhncinxaahs.supabase.co\";\nconst supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhaGpja2ZkeHVobmNpbnhhYWhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzkxMDA0MjMsImV4cCI6MTk5NDY3NjQyM30.IdEmleJpB3NGnrnAmqkAxhhAZ77Fywc7gIeM3A7jTnk\";\n//const supabaseKey = process.env.SUPABASE_KEY\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseKey);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9zdXBhYmFzZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUQ7QUFFckQsTUFBTUMsY0FBYztBQUNwQixNQUFNQyxjQUNKO0FBQ0YsOENBQThDO0FBQzlDLE1BQU1DLFdBQVdILG1FQUFZQSxDQUFDQyxhQUFhQztBQUUzQyxpRUFBZUMsUUFBUUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BvZGxpc3Qtd2ViLW5leHQvLi91dGlscy9zdXBhYmFzZS5qcz80MDZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAc3VwYWJhc2Uvc3VwYWJhc2UtanNcIjtcblxuY29uc3Qgc3VwYWJhc2VVcmwgPSBcImh0dHBzOi8vdmFoamNrZmR4dWhuY2lueGFhaHMuc3VwYWJhc2UuY29cIjtcbmNvbnN0IHN1cGFiYXNlS2V5ID1cbiAgXCJleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJblpoYUdwamEyWmtlSFZvYm1OcGJuaGhZV2h6SWl3aWNtOXNaU0k2SW1GdWIyNGlMQ0pwWVhRaU9qRTJOemt4TURBME1qTXNJbVY0Y0NJNk1UazVORFkzTmpReU0zMC5JZEVtbGVKcEIzTkducm5BbXFrQXhoaEFaNzdGeXdjN2dJZU0zQTdqVG5rXCI7XG4vL2NvbnN0IHN1cGFiYXNlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfS0VZXG5jb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VLZXkpO1xuXG5leHBvcnQgZGVmYXVsdCBzdXBhYmFzZTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInN1cGFiYXNlS2V5Iiwic3VwYWJhc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/supabase.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/og.js"));
module.exports = __webpack_exports__;

})();